= How to Add Plugins to the Profiler

== Introduction

Plugins can be added to the profiler to extend its functionality and analyze program behavior. This guide explains the steps to create and integrate a new plugin into the profiler.

== Creating a New Plugin

To create a new plugin, follow these steps:

1. Create a New File:

Create a new Python file in the ``plugins`` folder of the project.

2. Define Inputs:

Your plugin should accept the following inputs:

- ``master_inst_list``: A list of all instructions in the program, represented as a list of ``Instruction`` objects.
- ``op_dict``: A dictionary containing all operations in the program. Keys represent operation names, and values are operation objects.

Any custom inputs must be defined in the configuration YAML file. These will be treated as keyword args to the function.

3. Define Outputs:

Your plugin should return a dictionary containing the results of your analysis. The keys of this dictionary should be operation names, and the values are metrics that were computed in the plugin itself. All returned values will be tabulated. Eventually, this will become a custom class.

== Integrating a Plugin into profiler.py

To integrate your plugin into the `profiler.py` script, follow these steps:

1. Import the Plugin:

Import the plugin function in ``profiler.py``.

2. Check Configuration:

In the `profiler.py` script, check if your plugin is enabled by reading the configuration file. Ensure that it can be toggled on and off based on user preferences.

3. Execute the Plugin:

If the plugin is enabled, execute it by calling the corresponding function and passing the required inputs.